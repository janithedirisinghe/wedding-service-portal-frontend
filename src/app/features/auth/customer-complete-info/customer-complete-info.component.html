<section class="bg-gray-50 dark:bg-gray-900 min-h-screen">
  <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0">
    <div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-2xl xl:p-0 dark:bg-gray-800 dark:border-gray-700">
      <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
        <div class="text-center">
          <img class="mx-auto w-32 mb-4"
              src="https://untgtsclbjlgemwljimq.supabase.co/storage/v1/object/public/Wedding%20Vender%20managment%20System//logo.png"
              alt="logo" />
          <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
            Complete Your Profile
          </h1>
          <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
            Please provide your details to complete your registration
          </p>
        </div>
        
        <form [formGroup]="customerInfoForm" (ngSubmit)="onSubmit()" class="space-y-4 md:space-y-6">
          <!-- Personal Information Section -->
          <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Personal Information</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="firstName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">First Name *</label>
                <input type="text" formControlName="firstName" name="firstName" id="firstName" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                       placeholder="First Name">
                <div *ngIf="customerInfoForm.get('firstName')?.invalid && customerInfoForm.get('firstName')?.touched" class="text-red-500 text-sm mt-1">
                  <span *ngIf="customerInfoForm.get('firstName')?.errors?.['required']">First name is required</span>
                  <span *ngIf="customerInfoForm.get('firstName')?.errors?.['minlength']">First name must be at least 2 characters</span>
                </div>
              </div>
              
              <div>
                <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Last Name *</label>
                <input type="text" formControlName="lastName" name="lastName" id="lastName" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                       placeholder="Last Name">
                <div *ngIf="customerInfoForm.get('lastName')?.invalid && customerInfoForm.get('lastName')?.touched" class="text-red-500 text-sm mt-1">
                  <span *ngIf="customerInfoForm.get('lastName')?.errors?.['required']">Last name is required</span>
                  <span *ngIf="customerInfoForm.get('lastName')?.errors?.['minlength']">Last name must be at least 2 characters</span>
                </div>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
              <div>
                <label for="dateOfBirth" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Date of Birth *</label>
                <input type="date" formControlName="dateOfBirth" name="dateOfBirth" id="dateOfBirth" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                <div *ngIf="customerInfoForm.get('dateOfBirth')?.invalid && customerInfoForm.get('dateOfBirth')?.touched" class="text-red-500 text-sm mt-1">
                  Date of birth is required
                </div>
              </div>
              
              <div>
                <label for="phoneNumber" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Phone Number *</label>
                <input type="tel" formControlName="phoneNumber" name="phoneNumber" id="phoneNumber" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                       placeholder="Phone Number">
                <div *ngIf="customerInfoForm.get('phoneNumber')?.invalid && customerInfoForm.get('phoneNumber')?.touched" class="text-red-500 text-sm mt-1">
                  <span *ngIf="customerInfoForm.get('phoneNumber')?.errors?.['required']">Phone number is required</span>
                  <span *ngIf="customerInfoForm.get('phoneNumber')?.errors?.['minlength']">Phone number must be at least 10 characters</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Address Information Section -->
          <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Address Information</h2>
            
            <div class="mb-4">
              <label for="address" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Address *</label>
              <input type="text" formControlName="address" name="address" id="address" 
                     class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                     placeholder="Street Address">
              <div *ngIf="customerInfoForm.get('address')?.invalid && customerInfoForm.get('address')?.touched" class="text-red-500 text-sm mt-1">
                <span *ngIf="customerInfoForm.get('address')?.errors?.['required']">Address is required</span>
                <span *ngIf="customerInfoForm.get('address')?.errors?.['minlength']">Address must be at least 5 characters</span>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="city" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">City *</label>
                <input type="text" formControlName="city" name="city" id="city" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                       placeholder="City">
                <div *ngIf="customerInfoForm.get('city')?.invalid && customerInfoForm.get('city')?.touched" class="text-red-500 text-sm mt-1">
                  <span *ngIf="customerInfoForm.get('city')?.errors?.['required']">City is required</span>
                  <span *ngIf="customerInfoForm.get('city')?.errors?.['minlength']">City must be at least 2 characters</span>
                </div>
              </div>
              
              <div>
                <label for="country" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Country *</label>
                <input type="text" formControlName="country" name="country" id="country" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                       placeholder="Country">
                <div *ngIf="customerInfoForm.get('country')?.invalid && customerInfoForm.get('country')?.touched" class="text-red-500 text-sm mt-1">
                  <span *ngIf="customerInfoForm.get('country')?.errors?.['required']">Country is required</span>
                  <span *ngIf="customerInfoForm.get('country')?.errors?.['minlength']">Country must be at least 2 characters</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Bio Section -->
          <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">About You</h2>
            
            <div>
              <label for="bio" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Bio *</label>
              <textarea formControlName="bio" name="bio" id="bio" rows="4"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
                        placeholder="Tell us about yourself, your wedding plans, and what you're looking for..."></textarea>
              <div *ngIf="customerInfoForm.get('bio')?.invalid && customerInfoForm.get('bio')?.touched" class="text-red-500 text-sm mt-1">
                <span *ngIf="customerInfoForm.get('bio')?.errors?.['required']">Bio is required</span>
                <span *ngIf="customerInfoForm.get('bio')?.errors?.['minlength']">Bio must be at least 10 characters</span>
              </div>
            </div>
          </div>
          
          <!-- Preferred Vendor Types Section -->
          <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Preferred Vendor Types *</h2>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Select the types of vendors you're interested in working with</p>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
              <div *ngFor="let vendorType of vendorTypes" class="flex items-center">
                <input type="checkbox" [id]="vendorType" [value]="vendorType" 
                       (change)="onVendorTypeChange(vendorType, $event)"
                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                <label [for]="vendorType" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">{{ vendorType }}</label>
              </div>
            </div>
            <div *ngIf="customerInfoForm.get('preferredVendorTypes')?.invalid && customerInfoForm.get('preferredVendorTypes')?.touched" class="text-red-500 text-sm mt-2">
              Please select at least one vendor type
            </div>
          </div>
          
          <!-- Optional Wedding Information Section -->
          <div class="pb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Wedding Information (Optional)</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="weddingDate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Wedding Date</label>
                <input type="date" formControlName="weddingDate" name="weddingDate" id="weddingDate" 
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
              </div>
              
              <div>
                <label for="budget" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Budget Range</label>
                <select formControlName="budget" name="budget" id="budget" 
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                  <option value="">Select Budget Range</option>
                  <option value="under-5000">Under $5,000</option>
                  <option value="5000-10000">$5,000 - $10,000</option>
                  <option value="10000-20000">$10,000 - $20,000</option>
                  <option value="20000-50000">$20,000 - $50,000</option>
                  <option value="over-50000">Over $50,000</option>
                </select>
              </div>
            </div>
          </div>
          
          <!-- Submit Button -->
          <button type="submit" [disabled]="isSubmitting || customerInfoForm.invalid" 
                  class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 disabled:opacity-50 disabled:cursor-not-allowed">
            <span *ngIf="isSubmitting" class="inline-flex items-center">
              <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              Processing...
            </span>
            <span *ngIf="!isSubmitting">Complete Profile</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
